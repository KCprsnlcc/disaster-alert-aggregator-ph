name: "Custom CodeQL Config"

# Specify the directories to analyze
paths:
  - src
  - scraper
  
# Specify directories to exclude from analysis
paths-ignore:
  - node_modules
  - '**/*.test.js'
  - '**/*.spec.js'
  - '**/*.test.ts'
  - '**/*.spec.ts'
  
# Query suites to run
queries:
  # Run all security queries from the default suite
  - uses: security-extended
  # Add JavaScript/TypeScript specific queries
  - uses: javascript/supabase-security-rules
  
# Configure query filters to exclude or include specific queries
query-filters:
  # Exclude queries that produce too many results or false positives
  - exclude:
      id: js/reflected-xss
      
# Disable the default queries by using the built-in query suite
disable-default-queries: false

# Enable security-severity-based query filtering and reporting
enable-security-severity-filter: true
